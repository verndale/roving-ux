!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).rovingUx={})}(this,function(e){var t=new Map,n=function(e,n,a){var r=t.get(e);r.active.tabIndex=-1,a&&a(n),r.active=n,r.active.tabIndex=0,r.active.focus()};e.rovingIndex=function(e){var a=e.element,r=e.callback,i=a.querySelectorAll(e.target||":scope *"),o=i[0];a.tabIndex=-1,i.forEach(function(e){return e.tabIndex=-1}),o.tabIndex=0,t.set(a,{targets:i,active:o,index:0});var d=function(e){t.get("last_rover")!=a&&(n(a,t.get(a).active),t.set("last_rover",a))};a.addEventListener("focusin",d);var c=function(e){switch(e.keyCode){case 39:case 40:e.preventDefault(),function(e,a){var r=t.get(e);r.index+=1,r.index>r.targets.length-1&&(r.index=r.targets.length-1);var i=r.targets[r.index];i&&n(e,i,a)}(a,r);break;case 37:case 38:e.preventDefault(),function(e,a){var r=t.get(e);r.index-=1,r.index<1&&(r.index=0);var i=r.targets[r.index];i&&n(e,i,a)}(a,r);break;case 36:e.preventDefault(),function(e,a){var r=t.get(e);r.index=0;var i=r.targets[r.index];i&&n(e,i,a)}(a,r);break;case 35:e.preventDefault(),function(e,a){var r=t.get(e);r.index=r.targets.length-1;var i=r.targets[r.index];i&&n(e,i,a)}(a,r)}};a.addEventListener("keydown",c),a.addEventListener("DOMNodeRemovedFromDocument",function e(n){a.removeEventListener("focusin",d),a.removeEventListener("keydown",c),a.removeEventListener("DOMNodeRemoved",e),t.delete(a),i.forEach(function(e){return e.tabIndex=""})})}});
//# sourceMappingURL=index.umd.js.map
