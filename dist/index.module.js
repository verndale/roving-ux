var e=new Map,t=function(t){var v=t.element,d=t.callback,o=v.querySelectorAll(t.target||":scope *"),s=o[0];v.tabIndex=-1,o.forEach(function(e){return e.tabIndex=-1}),s.tabIndex=0,e.set(v,{targets:o,active:s,index:0});var u=function(t){e.get("last_rover")!=v&&(c(v,e.get(v).active),e.set("last_rover",v))};v.addEventListener("focusin",u);var x=function(e){switch(e.keyCode){case 39:case 40:e.preventDefault(),r(v,d);break;case 37:case 38:e.preventDefault(),i(v,d);break;case 36:e.preventDefault(),n(v,d);break;case 35:e.preventDefault(),a(v,d)}};v.addEventListener("keydown",x),v.addEventListener("DOMNodeRemovedFromDocument",function t(n){v.removeEventListener("focusin",u),v.removeEventListener("keydown",x),v.removeEventListener("DOMNodeRemoved",t),e.delete(v),o.forEach(function(e){return e.tabIndex=""})})},n=function(t,n){var a=e.get(t);a.index=0,next&&c(t,a.targets[a.index],n)},a=function(t,n){var a=e.get(t);a.index=a.targets.length-1,next&&c(t,a.targets[a.index],n)},r=function(t,n){var a=e.get(t);a.index+=1,a.index>a.targets.length-1&&(a.index=a.targets.length-1);var r=a.targets[a.index];r&&c(t,r,n)},i=function(t,n){var a=e.get(t);a.index-=1,a.index<1&&(a.index=0);var r=a.targets[a.index];r&&c(t,r,n)},c=function(t,n,a){var r=e.get(t);r.active.tabIndex=-1,a&&a(n),r.active=n,r.active.tabIndex=0,r.active.focus()};export{t as rovingIndex};
//# sourceMappingURL=index.module.js.map
