var e=new Map,t=function(t){var c=t.element,d=t.callback,o=c.querySelectorAll(t.target||":scope *"),s=o[0];c.tabIndex=-1,o.forEach(function(e){return e.tabIndex=-1}),s.tabIndex=0,e.set(c,{targets:o,active:s,index:0});var u=function(t){e.get("last_rover")!=c&&(v(c,e.get(c).active),e.set("last_rover",c))};c.addEventListener("focusin",u);var f=function(e){switch(e.keyCode){case 39:case 40:e.preventDefault(),r(c,d);break;case 37:case 38:e.preventDefault(),i(c,d);break;case 36:e.preventDefault(),n(c,d);break;case 35:e.preventDefault(),a(c,d)}};c.addEventListener("keydown",f),c.addEventListener("DOMNodeRemovedFromDocument",function t(n){c.removeEventListener("focusin",u),c.removeEventListener("keydown",f),c.removeEventListener("DOMNodeRemoved",t),e.delete(c),o.forEach(function(e){return e.tabIndex=""})})},n=function(t,n){var a=e.get(t);a.index=0;var r=a.targets[a.index];r&&v(t,r,n)},a=function(t,n){var a=e.get(t);a.index=a.targets.length-1;var r=a.targets[a.index];r&&v(t,r,n)},r=function(t,n){var a=e.get(t);a.index+=1,a.index>a.targets.length-1&&(a.index=a.targets.length-1);var r=a.targets[a.index];r&&v(t,r,n)},i=function(t,n){var a=e.get(t);a.index-=1,a.index<1&&(a.index=0);var r=a.targets[a.index];r&&v(t,r,n)},v=function(t,n,a){var r=e.get(t);r.active.tabIndex=-1,a&&a(n),r.active=n,r.active.tabIndex=0,r.active.focus()};export{t as rovingIndex};
//# sourceMappingURL=index.module.js.map
