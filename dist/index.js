var e=new Map,t=function(t,n,a){var r=e.get(t);r.active.tabIndex=-1,a&&a(n),r.active=n,r.active.tabIndex=0,r.active.focus()};exports.rovingIndex=function(n){var a=n.element,r=n.callback,i=a.querySelectorAll(n.target||":scope *"),v=i[0];a.tabIndex=-1,i.forEach(function(e){return e.tabIndex=-1}),v.tabIndex=0,e.set(a,{targets:i,active:v,index:0});var c=function(n){e.get("last_rover")!=a&&(t(a,e.get(a).active),e.set("last_rover",a))};a.addEventListener("focusin",c);var d=function(n){switch(n.keyCode){case 39:case 40:n.preventDefault(),function(n,a){var r=e.get(n);r.index+=1,r.index>r.targets.length-1&&(r.index=r.targets.length-1);var i=r.targets[r.index];i&&t(n,i,a)}(a,r);break;case 37:case 38:n.preventDefault(),function(n,a){var r=e.get(n);r.index-=1,r.index<1&&(r.index=0);var i=r.targets[r.index];i&&t(n,i,a)}(a,r);break;case 36:n.preventDefault(),function(n,a){var r=e.get(n);r.index=0;var i=r.targets[r.index];i&&t(n,i,a)}(a,r);break;case 35:n.preventDefault(),function(n,a){var r=e.get(n);r.index=r.targets.length-1;var i=r.targets[r.index];i&&t(n,i,a)}(a,r)}};a.addEventListener("keydown",d),a.addEventListener("DOMNodeRemovedFromDocument",function t(n){a.removeEventListener("focusin",c),a.removeEventListener("keydown",d),a.removeEventListener("DOMNodeRemoved",t),e.delete(a),i.forEach(function(e){return e.tabIndex=""})})};
//# sourceMappingURL=index.js.map
